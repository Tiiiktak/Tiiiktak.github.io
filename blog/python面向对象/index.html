<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Python面向对象 - Tiiktak&#39;s</title>
    
    <meta name="description" content="类和实例 定义类 使用class关键字
class Student(object): #class 类名(继承类) 无继承类则使用object,也可省略 &quot;&quot;&quot;docstring for Student&quot;&quot;&quot; def __init__(self, name, score): #初始属性，第一个参数永远是self，表示创建的实例本身 super (Student, self).__init__() self.name = name self.score = score def print_score(self) print(&#39;%s: %s&#39; % (self.name, self.score))  实例化 类名&#43;（）
&gt;&gt;&gt; bob = Student(&#39;Bob&#39;, 98) &gt;&gt;&gt; bob.print_score() Bob: 98  创建实例后，可以自由地给一个实例变量绑定属性，如
&gt;&gt;&gt; bob.school = &#39;SWUST&#39; &gt;&gt;&gt; bob.school &#39;SWUST&#39;  访问限制  private私有变量：变量名以__开头 注意：__name__外部可以访问，是特殊变量  继承和多态 基类：
class Animal(object): def run(self): print(&#39;Animal is running...&#39;)  子类：">
    <meta name="author" content="">
    
    <link href="https://konosuba.xyz/css/github-gist.min.css" rel="stylesheet">
    <link href="https://konosuba.xyz/css/style.css" rel="stylesheet">
    
    <link rel="apple-touch-icon" href="https://konosuba.xyz/img/apple-touch-icon.png">
    <link rel="icon" href="https://konosuba.xyz/img/favicon.ico">
    
    <meta name="generator" content="Hugo 0.55.6" />
    
    <link rel="alternate" type="application/atom+xml" href="https://konosuba.xyz/index.xml" title="Tiiktak&#39;s">
    
    
    
  </head>
  <body class="single">
    <header class="header">
      <div class="wrap">
        
        <p class="logo"><a href="https://konosuba.xyz/">Tiiktak&#39;s</a></p>
        
        
        <button class="menu-toggle" type="button"></button>
        
      </div>
    </header>
    
    <nav class="nav">
      <ul class="menu">
        
        <li>
          <a href="/about/">About</a>
        </li>
        
      </ul>
    </nav>
    
    <main class="main">


<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Python面向对象</h1>
    <div class="post-meta">2019.6.21</div>
  </header>
  <div class="post-content">

<h1 id="类和实例">类和实例</h1>

<h2 id="定义类">定义类</h2>

<p>使用<code>class</code>关键字</p>

<pre><code class="language-python">class Student(object): #class 类名(继承类)  无继承类则使用object,也可省略
	&quot;&quot;&quot;docstring for Student&quot;&quot;&quot;
	def __init__(self, name, score): 
	#初始属性，第一个参数永远是self，表示创建的实例本身
		super (Student, self).__init__()
		self.name = name
		self.score = score
	def print_score(self)
		print('%s: %s' % (self.name, self.score))
</code></pre>

<h2 id="实例化">实例化</h2>

<p>类名+（）</p>

<pre><code class="language-python">&gt;&gt;&gt; bob = Student('Bob', 98)
&gt;&gt;&gt; bob.print_score()
Bob: 98
</code></pre>

<p>创建实例后，可以自由地给一个实例变量绑定属性，如</p>

<pre><code class="language-python">&gt;&gt;&gt; bob.school = 'SWUST'
&gt;&gt;&gt; bob.school
'SWUST'
</code></pre>

<h2 id="访问限制">访问限制</h2>

<ul>
<li>private<strong>私有变量</strong>：变量名以<code>__</code>开头
注意：<code>__name__</code>外部可以访问，是<strong>特殊变量</strong></li>
</ul>

<h2 id="继承和多态">继承和多态</h2>

<p>基类：</p>

<pre><code class="language-python">class Animal(object):
	def run(self):
		print('Animal is running...')
</code></pre>

<p>子类：</p>

<pre><code class="language-python">class Dog(Animal)
	pass
</code></pre>

<p>子类调用父类方法：</p>

<pre><code class="language-python">&gt;&gt;&gt; dog = Dog()
&gt;&gt;&gt; dog.run()
Animal is running...
</code></pre>

<p>同样支持多态</p>

<h2 id="动态语言">动态语言</h2>

<p>对于动态语言，传入时不一定需要<code>Animal</code>类型，只需要保证传入的对象有<code>run()</code>方法即可</p>

<h1 id="获取对象信息">获取对象信息</h1>

<h2 id="使用-type">使用<code>type()</code></h2>

<pre><code>&gt;&gt;&gt; type(123)
&lt;class 'int'&gt;
</code></pre>

<h2 id="使用-isinstance">使用<code>isinstance()</code></h2>

<pre><code>&gt;&gt;&gt; a = 10
&gt;&gt;&gt; isinstance(a, int)
True
&gt;&gt;&gt; isinstance(a, float)
False
</code></pre>

<h2 id="使用-dir">使用<code>dir()</code></h2>

<p>获得一个对象的所有属性和方法，它返回一个包含字符串的list</p>

<pre><code>&gt;&gt;&gt; dir('ABC')
['__add__', '__class__',..., '__subclasshook__', 'capitalize', 'casefold',..., 'zfill']
</code></pre>

<p>类似<code>__xxx__</code>的属性和方法在Python中都是有特殊用途的，比如<code>__len__</code>方法返回长度。在Python中，如果你调用<code>len()</code>函数试图获取一个对象的长度，实际上，在<code>len()</code>函数内部，它自动去调用该对象的<code>__len__()</code>方法</p>

<h1 id="限制类的实例绑定属性">限制类的实例绑定属性</h1>

<p>在定义时，定义一个特殊的<code>__slots__</code>变量来限制实例能添加的属性</p>

<pre><code class="language-python">class Student(object):
	__slots__ = ('name', 'age') #用tuple定义允许绑定的属性名称
</code></pre>

<p>尝试绑定</p>

<pre><code class="language-python">&gt;&gt;&gt; s = Student()
&gt;&gt;&gt; s.name = 'Michael'
&gt;&gt;&gt; s.score = 99 #绑定属性'score'
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
AttributeError: 'Student' object has no attribute 'score'
</code></pre>

<p>由于<code>'score'</code>没有被放到<code>__slots__</code>中，所以不能绑定<code>score</code>属性，试图绑定<code>score</code>将得到<code>AttributeError</code>的错误。</p>

<p>使用<code>__slots__</code>要注意,<code>__slots__</code>定义的属性仅对当前类实例起作用，对继承的子类是不起作用的</p>
</div>
  <footer class="post-footer">
    
    <ul class="post-tags">
      
      <li><a href="https://konosuba.xyz/tags/python/">Python</a></li>
      
      <li><a href="https://konosuba.xyz/tags/%E5%AD%A6%E4%B9%A0/">学习</a></li>
      
    </ul>
    
  </footer>
  
  
  
  <div id="disqus_thread"></div>
  <script>
    var disqus_shortname = 'tiiktak';
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  
  
</article>

</main>
<footer class="footer">
  <span>&copy; 2020 <a href="https://konosuba.xyz/">Tiiktak&#39;s</a></span>
  <span>&middot;</span>
  <span>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</span>
  <span>&middot;</span>
  <span>Theme️ <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper</a></span>
</footer>
<script src="https://konosuba.xyz/js/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init();</script>
<script src="https://konosuba.xyz/js/highlight.min.js" data-no-instant></script>
<script data-no-instant>
  let body;
  function menuToggleListener() {
    body.classList.toggle('blur');
  }
  function setMenuToggleListener() {
    const menuToggle = document.querySelector('.menu-toggle');
    if (!menuToggle) return;
    body = document.querySelector('body');
    menuToggle.addEventListener('click', menuToggleListener);
  }

  hljs.initHighlightingOnLoad();
  setMenuToggleListener();

  InstantClick.on('change', function () {
    document.querySelectorAll('pre code').forEach((block) => {
      hljs.highlightBlock(block);
    });
    setMenuToggleListener();
  });
</script>
</body>
</html>

